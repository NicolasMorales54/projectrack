<div class="flex h-screen">
  <!-- Sidebar toggle for mobile only -->
  <button
    class="lg:hidden top-4 left-4 z-50 fixed bg-white shadow-md p-2 border border-gray-200 rounded-full focus:outline-none"
    type="button" (click)="sidebarOpen = !sidebarOpen" aria-label="Abrir menÃº lateral">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-700" fill="none" viewBox="0 0 24 24"
      stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
    </svg>
  </button>

  <!-- Sidebar: always visible on desktop, togglable on mobile -->
  <app-sidebar
    class="z-40 lg:relative flex-shrink-0 bg-white border-r w-64 h-full transition-transform lg:translate-x-0 duration-300"
    [ngClass]="{
      'fixed top-0 left-0 h-full shadow-lg translate-x-0': sidebarOpen && !isLargeScreen,
      '-translate-x-full': !sidebarOpen && !isLargeScreen,
      'lg:relative lg:translate-x-0': true
    }" *ngIf="sidebarOpen || isLargeScreen"></app-sidebar>

  <!-- Main content -->
  <div class="flex-1 bg-gray-50 p-4 sm:p-6 overflow-auto transition-all duration-300">
    <router-outlet></router-outlet>
  </div>
</div>

<style>
  @media (max-width: 1024px) {
    app-sidebar {
      position: fixed !important;
      top: 0;
      left: 0;
      height: 100vh;
      z-index: 40;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
      background: white;
      transition: transform 0.3s;
    }
  }
</style>
